# ============================================================================
# Kilig Environment Configuration
# Copy this file to .env and fill in your values
# ============================================================================

# =============
# Core Settings
# =============
NODE_ENV=development
DEBUG=true
SERVICE_NAME=kilig-rag

# =============
# AI/LLM Keys
# =============
GEMINI_API_KEY=your_gemini_api_key
GOOGLE_API_KEY=your_google_api_key

# Optional: OpenRouter for multi-model failover
OPENROUTER_API_KEY=

# Optional: Jina for embeddings (alternative to Gemini)
JINA_API_KEY=

# =============
# Supabase (existing)
# =============
SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_key

# =============
# OpenSearch (new - hybrid search)
# =============
OPENSEARCH_HOST=http://localhost:9200
OPENSEARCH_INDEX_NAME=kilig-papers
OPENSEARCH_CHUNK_INDEX_SUFFIX=chunks
OPENSEARCH_VECTOR_DIMENSION=768
OPENSEARCH_RRF_PIPELINE_NAME=hybrid-rrf-pipeline

# =============
# Redis (new - caching)
# =============
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TTL_HOURS=6

# =============
# Langfuse (optional - observability)
# =============
LANGFUSE_ENABLED=true
LANGFUSE_PUBLIC_KEY=pk-lf-1234567890
LANGFUSE_SECRET_KEY=sk-lf-1234567890
LANGFUSE_HOST=http://localhost:3001

# =============
# Embeddings
# =============
EMBEDDINGS_PROVIDER=gemini
EMBEDDINGS_GEMINI_MODEL=text-embedding-004
EMBEDDINGS_DIMENSION=768
EMBEDDINGS_BATCH_SIZE=10

# =============
# Chunking
# =============
CHUNKING_CHUNK_SIZE=600
CHUNKING_OVERLAP_SIZE=100
CHUNKING_MIN_CHUNK_SIZE=100
CHUNKING_SECTION_BASED=true

# =============
# Agentic RAG
# =============
AGENTIC_RAG_GUARDRAIL_THRESHOLD=50
AGENTIC_RAG_TOP_K=5
AGENTIC_RAG_USE_HYBRID=true
AGENTIC_RAG_MAX_RETRIEVAL_ATTEMPTS=3
AGENTIC_RAG_RELEVANCE_THRESHOLD=0.5

# =============
# Legacy Cache (file-based)
# =============
CACHE_ENABLED=true
CACHE_PROVIDER=file
CACHE_DIR=.cache
CACHE_TTL=86400
